@page "/person"

<View Model="@_person" OnValidSubmit=OnValidSubmit OnDelete=OnDelete Columns=6>
    <NumberField @bind-Value="_person.Id" readonly Columns=4 />
    <TextField @bind-Value="_person.Name" Columns=8 />
    <TextField @bind-Value="_person.Email" />
    <DateField @bind-Value="_person.BirthDate" Columns=6 />
</View>

<DT TModel=Person @bind-Items=_persons OnSelectItem="OnSelectItem">
    <Col TModel=Person Value="(p => p.Id)" />
    <Col TModel=Person Value="(p => p.Name)" />
    <Col TModel=Person Value="(p => p.BirthDate)" />
    <Col TModel=Person Value="(p => p.Email)" />
</DT>

@code {
    Person _person = new();

    List<Person> _persons = new()
        {
            new()
            {
                Id = 1,
                Name = "Otavio",
                BirthDate = new DateTime(1990, 12, 26),
                Email = "otavio@otavio.com.br"
            },
            new()
            {
                Id = 2,
                Name = "Carol",
                BirthDate = new DateTime(1990, 05, 11),
                Email = "otavio@otavio.com.br"
            }
        };

    public Task OnValidSubmit()
    {
        return Task.Delay(1000);
    }

    public Task OnDelete()
    {
        return Task.Delay(1000);
    }

    public void OnSelectItem(Person person)
    {
        _person = person;
    }
}

